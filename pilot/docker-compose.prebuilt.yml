version: "3.9"

version: "3.9"

name: ntf-pilot-simulation

networks:
  ntf-internal:
    driver: bridge
    internal: true

services:

  indicator-generator:
    build:
      context: ./indicator-generator
      dockerfile: Dockerfile
    image: indicator-generator:local
    container_name: ntf-indicator-generator
    networks:
      - ntf-internal
    environment:
      - SIMULATION_MODE=synthetic
      - DATA_SCOPE=non-operational
    restart: unless-stopped

  behavior-oracle:
    build:
      context: ./nbo-engine
      dockerfile: Dockerfile
    image: nbo-engine:local
    container_name: ntf-nbo-engine
    depends_on:
      - indicator-generator
    networks:
      - ntf-internal
    environment:
      - ORACLE_MODE=conceptual
      - INPUT_SOURCE=synthetic
    restart: unless-stopped

  silent-validator:
    build:
      context: ./silent-validator
      dockerfile: Dockerfile
    image: silent-validator:local
    container_name: ntf-silent-validator
    depends_on:
      - behavior-oracle
    networks:
      - ntf-internal
    environment:
      - VALIDATION_MODE=passive
      - ENFORCEMENT=false
    restart: unless-stopped





